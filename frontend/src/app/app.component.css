/* top bar */
.topbar { display:flex; align-items:center; gap:12px; padding:10px 12px; border-bottom:1px solid #222; }
.brand { font-weight:800; font-size:18px; }
.spacer { flex:1 1 auto; }

/* layout */
.section { padding:12px; }
.grid { display:grid; gap:12px; }
.grid-2 { grid-template-columns: 1fr 1fr; }
.card { border:1px solid #222; border-radius:10px; padding:10px; background:#0d0f12; }

/* ряд график/логи одинаковой высоты и пополам */
.row-tv-logs { display:grid; grid-template-columns: 1fr 1fr; gap:12px; height:56vh; min-height:420px; }
.row-tv-logs .card { height:100%; display:flex; min-height:0; } /* важный фикс: min-height:0 */
.row-tv-logs .card .fill,
.row-tv-logs .card app-tv-advanced,
.row-tv-logs .card app-logs { flex:1 1 auto; display:block; height:100%; min-height:0; }

/* risk block */
.risk-summary { display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-bottom:8px; }
.risk-item { border:1px solid #1b1f24; border-radius:10px; padding:8px 10px; background:#0f1216; }
.risk-item .k { font-size:12px; opacity:.7; }
.risk-item .v { font-weight:700; }
.guards-wrap { margin-top:10px; }

/* overlay */
.overlay { position:fixed; inset:0; background:rgba(0,0,0,.55); backdrop-filter: blur(2px); display:flex; align-items:center; justify-content:center; z-index:9999; }
.panel { width:min(1000px, 96vw); max-height:92vh; overflow:auto; background:#0d0f12; border:1px solid #222; border-radius:16px; padding:14px; display:flex; flex-direction:column; gap:12px; }
.panel-wide { width:min(1200px, 98vw); }
.panel-head { display:flex; align-items:center; justify-content:space-between; gap:10px; }
.title { font-weight:800; font-size:18px; }
.panel-body { display:grid; gap:14px; }

/* groups in overlay */
.group { border:1px solid #1b1f24; border-radius:12px; padding:12px; display:grid; gap:10px; background:#0f1216; }
.group-title { font-weight:700; opacity:.9; }
.group-title-row { display:flex; align-items:center; gap:8px; font-weight:700; opacity:.9; }

/* tables (общая стилизация) */
.tbl { width:100%; border-collapse:collapse; }
.tbl th, .tbl td { border-bottom:1px solid #222; padding:6px 8px; text-align:left; }
.tbl.small th, .tbl.small td { padding:4px 6px; font-size:12px; } /* мелкий шрифт */
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
.muted { color:#96a0a9; }
.buy { color:#2ecc71; font-weight:700; }
.sell { color:#ff7675; font-weight:700; }
.profit { color:#2ecc71; }
.loss { color:#ff7675; }

/* scroll box in overlay tables */
.scroll { max-height: 380px; overflow: auto; border:1px solid #1b1f24; border-radius:10px; }

/* responsiveness */
@media (max-width: 900px) {
    .grid-2 { grid-template-columns: 1fr; }
    .row-tv-logs { grid-template-columns: 1fr; height: 60vh; }
}
